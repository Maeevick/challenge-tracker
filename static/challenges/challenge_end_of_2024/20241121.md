---
date: 2024-11-21
impressions: 1279
reactions: 15
comments: 10
shares: 1
followers: 13
tags: HexagonalArchitecture SoftwareArchitecture ProductEngineering
---

# ğŸ› ï¸ Mettre en place ton Hexagonal Architecture : how to en 4 Ã©tapes.

On me demande souvent les Ã©tapes Ã  suivre pour setup un projet en Hexa.

Alistair avait donnÃ© la "recette" dÃ¨s 2005 dans son article "Hexagonal Architecture" et il la rÃ©pÃ¨te dans "Hexagonal Architecture Explained" en 2024.

ğŸ¥¸â‰ï¸ "Oui mais Aurel, il y a une diffÃ©rence entre la thÃ©orie et la pratique !".

Bien sÃ»r, c'est vrai. 100% du temps. Tu ne peux pas appliquer bÃªtement une recette identique pour tous les contextes.

Cela dit, aprÃ¨s avoir mis en place des dizaines de projets (des centaines?) ces 10 derniÃ¨res annÃ©es, ces 4 Ã©tapes fonctionnent bien et sont suffisamment flexibles pour Ãªtre adaptÃ©es Ã  beaucoup de contextes.

0ï¸âƒ£ LES PRÃ‰REQUIS : SETUP MINIMALISTE

â€¢ Ton langage de programmation (ex : TypeScript + tsc)
â€¢ Ton runtime (ex : Node)
â€¢ Ton test runner (ex : Vitest/Jest)

ğŸ‘‰ Pas besoin de plus pour commencer !

1ï¸âƒ£ L'INDISPENSABLE : TEST-TO-TEST

Un test minimaliste (Primary Actor) appelle l'application/core en respectant le contrat d'interface (Primary Port).

Les dÃ©pendances (Secondary Actor) sont passÃ©es Ã  l'application par injection de dÃ©pendance sous forme de Test Doubles en respectant lÃ  aussi le contrat d'interface (Secondary Port).

ğŸ‘‰ Tu peux avancer sur la logique mÃ©tier sans te soucier de la technique.

2ï¸âƒ£ LES FEEDBACK UTILISATEUR : REAL-TO-TEST

Une implÃ©mentation simple mais utilisable par l'utilisateur (Primary Actor, exemple : appel HTTP depuis une page web minimaliste) transmet l'intention/data Ã  un adaptateur (Primary Adapter, exemple : route http HTTP Fastify/Express avec validation par Zod).

Celui-ci traduit la requÃªte pour respecter le Primary Port (le reste ne change pas).

ğŸ‘‰ Tu peux valider ta proposition de valeur mÃ©tier au plus vite avec ton utilisateur sans mettre en place tout le bouzin technique (DB, Mail, Payment, Chat...).

3ï¸âƒ£ LES SERVICES EXTÃ‰RIEURS : TEST-TO-REAL

Comme le point 1 mais en utilisant les services cible pour la prod (Secondary Actor) en passant par un Repository/Gateway (Secondary Adapter) qui respecte le contrat (Secondary Port).

ğŸ‘‰ Tu valides que ton application se branche avec le monde extÃ©rieur (DB, Mail, Payment, Chat...).

4ï¸âƒ£ LA PROD EST PRÃŠTE : REAL-TO-REAL

Tu connectes les points 2 et 3 pour avoir ton premier systÃ¨me de prod, minimaliste mais complet.

ğŸ‘‰ ton Walking Skeleton est prÃªt et ta prod est live.

âš ï¸ NOTES

â€¢ Les Ã©tapes 2 & 3 sont interchangeables selon ton contexte et les prio.
â€¢ Le scope de chacune est modulable, le plus petit possible pour livrer le plus frÃ©quemment possible.

ğŸ™ï¸ Quelles sont tes Ã©tapes Ã  toi ?

hashtag#HexagonalArchitecture hashtag#SoftwareArchitecture hashtag#ProductEngineering

---

Tu me dÃ©couvres avec ce post ?

Je dÃ©couvre, j'expÃ©rimente et j'apprends des trucs sur mon mÃ©tier de dev depuis plus de 15 ans alors j'essaie d'en partager un peu.

ğŸ”” Pour ne rien manquer : follow avec la double cloche.
ğŸ—ï¸ Pour aller plus loin : rejoins la newsletter (lien sur mon profil et en commentaire).

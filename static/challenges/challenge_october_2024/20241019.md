---
date: 2024-10-19
impressions: 1956
reactions: 27
comments: 16
shares: 0
followers: 16
tags: DesignPattern SoftwareArchitecture OctoberChallenge
---

# üé≠ Le Decorator Pattern, c'est comme avoir des poup√©es russes qui bossent pour toi en respectant le O de SOLID.

Imagine que tu d√©veloppes une lib de logging (oui exemple bateau mais parlant).

Au d√©but, ton cas est simple : √©crire dans un fichier.

Mais, comme d'hab en dev, au fur et √† mesure les demandes s'empilent : logger dans la console, logger avec un horodatage (oui, je dis horodatage), logger en couleur, logger chiffr√©, logger smiley...

Au lieu de cr√©er une classe pour chaque combo possible (ce qui serait un cauchemar √† maintenir), le Decorator te permet d'empiler des comportements comme des poup√©es russes, sans toucher au code existant.

C'est le principe Open/Closed (le O de SOLID) : 'we can extend the functionality of objects without modifying their source code'.

## üõ†Ô∏è Comment √ßa marche ?

1. Tu commences avec ton logger de base, disons `FileLogger`. C'est ta plus petite poup√©e.

2. Tu veux ajouter un timestamp ? Pas de souci ! Tu cr√©es un `TimestampDecorator` qui enveloppe ton `FileLogger`. C'est comme si tu mettais une poup√©e autour de la premi√®re.

3. Besoin de logger aussi dans la console ? Ajoute un `ConsoleDecorator` par-dessus. Encore une poup√©e !

4. Et ainsi de suite pour chaque nouvelle fonctionnalit√©...

---

## üéâ Les avantages ?

1. Flexibilit√© maximale : tu ajoutes/enl√®ves des comportements √† la vol√©e.

2. Respect du principe Open/Closed : tu √©tends les fonctionnalit√©s sans modifier le code existant.

3. Composition over inheritance : tu √©vites l'explosion combinatoire des sous-classes.

---

## ‚ö†Ô∏è Mais attention !

- Si tu empiles trop de decorators, √ßa peut devenir dur √† d√©bugger. Imagine essayer de trouver qui fait quoi quand t'as 20 couches !

- L'ordre des decorators a son importance. C'est un avantage et un inconv√©nient si tu ne fais pas gaffe (et c'est l√† que ma m√©taphore s'arr√™te parce que la grosse poup√©e ne rentre pas dans la petite).

- Le code d'initialisation peut vite devenir verbeux / compliqu√©. C'est un peu comme si tu devais d√©crire chaque poup√©e russe √† chaque fois que tu veux les utiliser.

üë∫ Astuce : Utilise une factory pour cr√©er des configurations de logger pr√©d√©finies comme √ßa tu supprimes les probl√®mes.

Alors Team Decorator ou pas ? Un avis ?

---

Tu me d√©couvres ou me red√©couvres avec ce post ?

üõ†Ô∏è Pendant tout le mois d'octobre, je publie un post par jour autour de NodeJS, TypeScript et d'Architecture Logicielle.

#DesignPattern #SoftwareArchitecture #OctoberChallenge

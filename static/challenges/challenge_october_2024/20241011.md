---
date: 2024-10-11
impressions: 0
reactions: 0
comments: 0
shares: 0
followers: 0
tags: NodeJS Performance CyberSecurity OctoberChallenge
---

# ğŸŒ¶ï¸ Hier, alors que je faisais des recherches pour un post sur les piÃ¨ges qui bloquent l'event loop de Node, je suis tombÃ© sur une pÃ©pite !

Node est fort, trÃ¨s fort pour gÃ©rer les I/O.

Moins pour les tÃ¢ches intensives en CPU (mieux vaut les dÃ©lÃ©guer aux librairies natives en C/C++).

LÃ  oÃ¹ Node pÃªche aussi, c'est en RegExp (techniquement c'est V8, le moteur JS, qui en soi "n'est pas trÃ¨s bon" en RegExp).

Du coup, facile de bloquer ton event loop et de t'exposer Ã  des attaques ReDOS avec des regexp mal conÃ§ues.

Mais Ã§a, c'Ã©tait avant !

ğŸ¥¸ Durant mes recherches pour approfondir le sujet, je suis tombÃ© sur une PR de fÃ©vrier 2024 (lien en commentaire).

L'Ã©quipe de V8 publiait en janvier 2021 un article sur l'implÃ©mentation d'un algorithme linÃ©aire (lien en commentaire).

"--enable-experimental-regexp-engine"

C'est encore expÃ©rimental en 2024 Ã  premiÃ¨re vue.

ğŸ› ï¸ Par contre, j'ai testÃ© et Ã§a semble fonctionner.

Une RegExp qui ne se terminait jamais, se termine quasi instantanÃ©ment avec un node 22.9.0 + le flag.

Il y a des limitations mais si V8 (donc 90% de l'environnement JS) implÃ©mente un algorithme linÃ©aire pour les RegExp c'est comme doper la 2CV de pÃ©pÃ© avec de la nitro.

ğŸ™ƒ Des RegExp performantes en JS... AllÃ´ !!!

Bon en attendant, mon choix se porte sur 'node-re2' pour dÃ©lÃ©guer les RegExp Ã  du C++.
Je vais tester 'recheck' sous forme de plugin eslint 'eslint-plugin-redos' pour les valider en dehors du runtime.

Je te mets tous les articles en commentaire, c'est passionnant.

Dis-moi ce que tu en penses. D'ailleurs, t'es plutÃ´t RegExp ou Anti-RegExp ?

---

Tu me dÃ©couvres ou me redÃ©couvres avec ce post ?

ğŸ› ï¸ Pendant tout le mois d'octobre, je publie un post par jour autour de NodeJS, TypeScript et d'Architecture Logicielle.

#NodeJS #Performance #CyberSecurity #OctoberChallenge

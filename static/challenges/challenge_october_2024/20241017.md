---
date: 2024-10-17
impressions: 896
reactions: 12
comments: 1
shares: 0
followers: 3
tags: DesignPattern SoftwareArchitecture OctoberChallenge
---

# ğŸ˜ˆ L'enfer de gÃ©rer des "bundles" de produits dans ton code, toi aussi tu t'es dÃ©jÃ  cassÃ© les dents dessus ?

Je me souviens de deux trois projets avec lesquels je me suis arrachÃ© quelques cheveux (d'oÃ¹ la casquette et le bonnet maintenant ğŸ‘´).

## ğŸ˜± Tu dois modÃ©liser dans ton domaine des produits, des bundles de produits, des bundles de bundles...

Et pour couronner le tout, tu dois effectuer des calculs sur l'ensemble des Ã©lÃ©ments de maniÃ¨re transparente.

Si tu as bossÃ© sur des systÃ¨mes de paniers d'achat ou des systÃ¨mes d'emprunt, tu as dÃ» t'y confronter.

Mais, c'est aussi le cas sur de la gestion de groupes d'utilisateurs : que ce soit pour une application RH ou de la gestion de permissions et de droits.

En gros, c'est un problÃ¨me frÃ©quent. Et tu n'as pas envie d'en faire un plat de spaghetti !

## ğŸŒ² On a donc une belle structure arborescente et on veut traiter chaque nÅ“ud (embranchement) comme des feuilles (terminaison).

ğŸ› ï¸ Rien de plus simple (quand tu t'es plantÃ© deux trois fois) :

â€¢ DÃ©finir une interface commune qui impose le comportement Ã  appliquer (exemple : 'computeTotalPrice').

â€¢ Les objets simples (exemple : 'Pen') implÃ©mentent cette interface et les comportements (exemple : computeTotalPrice retourne le prix unitaire du stylo).

â€¢ Les objets complexes (exemple : 'ScholarshipBundle') implÃ©mentent aussi cette interface (exemple : 'computeTotalPrice' retourne la somme des 'computeTotalPrice' des Ã©lÃ©ments qui composent le bundle).

## ğŸ‰ Tu viens d'implÃ©menter le Composite Pattern (lien en commentaire).

RÃ©sultat : tous nos Ã©lÃ©ments : noeuds complexes ou feuilles simples, sont traitÃ©s de maniÃ¨re identique et transparente.

âš ï¸ Attention Ã  ne pas trop simplifier ton modÃ¨le mÃ©tier pour le faire rentrer dans le pattern : les choses doivent fonctionner dans l'autre sens.

Il ne faut pas que le noeud/bundle (qu'on appelle un composite du coup) diverge trop de l'objet simple, autrement ton interface va devenir dÃ©gueu ğŸ¤®.

---

Tu me dÃ©couvres ou me redÃ©couvres avec ce post ?

ğŸ› ï¸ Pendant tout le mois d'octobre, je publie un post par jour autour de NodeJS, TypeScript et d'Architecture Logicielle.

#DesignPattern #SoftwareArchitecture #OctoberChallenge
